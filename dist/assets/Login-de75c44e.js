import{t as u,s as x,a as w}from"./api-d8f172d0.js";import{q as y,g as v,r as t,o as V,c as q,a as e,b as n,w as l,d as m,m as B}from"./index-9a0a5cc1.js";import"./axios-82afda87.js";const C={class:"login-box"},L=n("h2",null,"用户登录",-1),N={class:"login-container"},R=n("span",null,"用户名",-1),T=n("span",null,"密码",-1),U={class:"link-box"},D=n("span",null,null,-1),A={__name:"Login",setup(E){const s=y({username:"",password:"",remember:[]}),i={username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]},c=v(null),d=()=>{c.value.validate(_=>{if(!_){u("请将表单填充完整！","error");return}x(s.username,s.password).then(o=>{console.log(o),u("登陆成功！！欢迎！！","success"),w(o.key),B.push("/")}).catch(o=>{u("用户名或密码错误！","error")})})};return(_,o)=>{const f=t("el-image"),p=t("el-input"),r=t("el-form-item"),g=t("el-checkbox"),b=t("el-button"),h=t("el-form"),k=t("router-link");return V(),q("div",C,[e(f,{style:{height:"50px",position:"absolute",left:"10px",top:"10px"},fit:"fill",src:"../src/assets/logo.png"}),L,n("div",N,[e(h,{ref_key:"formRef",ref:c,model:s,rules:i},{default:l(()=>[e(r,{prop:"username"},{default:l(()=>[R,e(p,{class:"inp",placeholder:"请输入用户名",modelValue:s.username,"onUpdate:modelValue":o[0]||(o[0]=a=>s.username=a)},null,8,["modelValue"])]),_:1}),e(r,{prop:"password"},{default:l(()=>[T,e(p,{type:"password",class:"inp",placeholder:"请输入密码",modelValue:s.password,"onUpdate:modelValue":o[1]||(o[1]=a=>s.password=a),"show-password":""},null,8,["modelValue"])]),_:1}),e(r,{prop:"remember"},{default:l(()=>[e(g,{label:"记住密码",name:"remember"})]),_:1}),e(r,null,{default:l(()=>[e(b,{type:"primary",onClick:d,style:{"background-color":"black"}},{default:l(()=>[m(" 开始登录 ")]),_:1})]),_:1})]),_:1},8,["model"]),n("div",U,[D,n("span",null,[e(k,{to:"/register",style:{color:"black"}},{default:l(()=>[m(" 注册账号")]),_:1})])])])])}}};export{A as default};
